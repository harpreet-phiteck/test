<!DOCTYPE html>
<html>
<head>
  <title>Custom Container for map.project() - Mapbox</title>
  <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v2.5.0/mapbox-gl.css">
  <style>
    /* Custom container styles */
    .custom-container {
      width: 400px;
      height: 300px;
      position: relative;
      background-color: #f2f2f2;
      border: 1px solid #ccc;
    }

    /* Styling for the marker */
    .custom-marker {
      position: absolute;
      top: 50%; /* Adjust vertically within the custom container */
      left: 50%; /* Adjust horizontally within the custom container */
      transform: translate(-50%, -50%); /* Center the marker */
      background-color: red;
      width: 20px;
      height: 20px;
      border-radius: 50%;
    }
  </style>
</head>
<body>
  <div class="custom-container" id="customContainer">
    <!-- Custom marker element -->
    <div class="custom-marker"></div>
  </div>

  <script src="https://api.mapbox.com/mapbox-gl-js/v2.5.0/mapbox-gl.js"></script>
  <script>
    mapboxgl.accessToken = 'pk.eyJ1Ijoia2FyYW5nMHlhbCIsImEiOiJja2VlaG42eDUwZnppMnlveXJtcjdvOGtvIn0.KoPWjGAkfBFhFBEuSUinlw';

// Create a new map instance but do not add it to the DOM
const map = new mapboxgl.Map({
  container: 'customContainer', // Provide an empty container to prevent map rendering
  style: 'mapbox://styles/mapbox/streets-v11',
});

// Custom container dimensions
const containerWidth = 400;
const containerHeight = 300;

// Example: Calculate pixel position in the custom container
const coordinates = [30.730291,76.706312 ]; // Replace with desired coordinates
const pixelPosition = customProject(coordinates, map);

// Function to calculate pixel position in the custom container
function customProject(coordinates, map) {
  const [lng, lat] = coordinates;
  const bounds = map.getBounds();

  const x = ((lng - bounds.getWest()) / (bounds.getEast() - bounds.getWest())) * containerWidth;
  const y = ((lat - bounds.getSouth()) / (bounds.getNorth() - bounds.getSouth())) * containerHeight;

  return { x, y };
}

// Set the marker position in the custom container
const marker = document.querySelector('.custom-marker');
const position = customProject(coordinates, map);
marker.style.left = `${position.x}px`;
marker.style.top = `${position.y}px`;

  </script>
</body>
</html>
